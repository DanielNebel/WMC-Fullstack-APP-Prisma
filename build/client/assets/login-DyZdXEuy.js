import{u as j,r as l,j as s}from"./components-COx0tU5p.js";import{L as y}from"./layout-DqMSPCP_.js";import{F as i}from"./form-field-CCGULDM1.js";function E(){var x,c,g,h;const e=j(),m=l.useRef(!0),[o,p]=l.useState("login"),[r,u]=l.useState((e==null?void 0:e.errors)||{}),[N,d]=l.useState((e==null?void 0:e.error)||""),[a,f]=l.useState({email:((x=e==null?void 0:e.fields)==null?void 0:x.email)||"",password:((c=e==null?void 0:e.fields)==null?void 0:c.password)||"",firstName:((g=e==null?void 0:e.fields)==null?void 0:g.firstName)||"",lastName:((h=e==null?void 0:e.fields)==null?void 0:h.lastName)||""});l.useEffect(()=>{if(!m.current){const t={email:"",password:"",firstName:"",lastName:""};u({}),d(""),f(t)}},[o]),l.useEffect(()=>{m.current||d("")},[a]),l.useEffect(()=>{m.current=!1},[]),l.useEffect(()=>{(e!=null&&e.errors||e!=null&&e.error)&&(u(e.errors||{}),d(e.error||""))},[e]);const n=(t,b)=>{f(w=>({...w,[b]:t.target.value}))};return s.jsx(y,{children:s.jsxs("div",{className:"h-full justify-center items-center flex flex-col gap-y-4",children:[s.jsx("button",{onClick:()=>p(o=="login"?"register":"login"),className:"absolute top-8 right-8 rounded-xl bg-yellow-300 font-semibold text-blue-600 px-3 py-2 transition duration-300 ease-in-out hover:bg-yellow-400 hover:-translate-y-1",children:o==="login"?"Sign Up":"Sign In"}),s.jsx("h2",{className:"text-5xl font-extrabold text-yellow-300",children:"Welcome to Kudos!"}),s.jsx("p",{className:"font-semibold text-slate-300",children:o==="login"?"Log In To Give Some Praise!":"Sign Up To Get Started!"}),s.jsxs("form",{method:"POST",className:"rounded-2xl bg-gray-200 p-6 w-96",children:[s.jsx("div",{className:"text-xs font-semibold text-center tracking-wide text-red-500 w-full",children:N}),s.jsx(i,{htmlFor:"email",label:"Email",value:a.email,onChange:t=>n(t,"email"),error:r==null?void 0:r.email}),s.jsx(i,{htmlFor:"password",type:"password",label:"Password",value:a.password,onChange:t=>n(t,"password"),error:r==null?void 0:r.password}),o==="register"&&s.jsxs(s.Fragment,{children:[s.jsx(i,{htmlFor:"firstName",label:"First Name",onChange:t=>n(t,"firstName"),value:a.firstName,error:r==null?void 0:r.firstName}),s.jsx(i,{htmlFor:"lastName",label:"Last Name",onChange:t=>n(t,"lastName"),value:a.lastName,error:r==null?void 0:r.lastName})]}),s.jsx("div",{className:"w-full text-center",children:s.jsx("button",{type:"submit",name:"_action",value:o,className:"rounded-xl mt-2 bg-yellow-300 px-3 py-2 text-blue-600 font-semibold transition duration-300 ease-in-out hover:bg-yellow-400 hover:-translate-y-1",children:o==="login"?"Sign In":"Sign Up"})})]})]})})}export{E as default};
